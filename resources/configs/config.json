{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "./config.schema.json",
  "log": {
    "level": "info",
    "file": "output/navteq-validator.log",
    "configPath": "/tmp/pxpoint-configs/log-services/cpp/logging-development.json"
  },
  
  "autoRules": {
    "rdf": [
      "RdfIntegrityRule",
      "DataTypeValidationRule",
      "LinksTableRule"
    ],
    "shapefiles": [
      "ShapefileCompletenessRule"
    ],
    "3d-landmarks": [
      "3DFileCompletenessRule"
    ],
    "default": [
      "3DFileCompletenessRule"
    ],
    "rootRules": [
    "RootStructureRule"
  ]
  },
  "parallelism": 40,
  "parallelismByMode": {
    "auto": 40,
    "rdf": 30,
    "3d-landmarks": 2
  },
  "maxTasksInFlight": 80,
  "report": {
    "json": "output/report.json_test",
    "csv": "output/report.csv_test"
  },
  "alerts": {
    "enabled": true,
    "configPath": "config/alerts.local.json_test"
  },
  "configureRules": {
    "GeometryEquivalenceRule": {
      "fieldName": "LINK_ID_test",
      "tolerance": 1e-6
    },
    "ShapefilePrjRule": {
      "acceptedTokens": ["WGS 84 Test", "WGS84", "WGS_1984", "WGS-84", "EPSG:4326", "4326"]
    },
    "3DFileCompletenessRule": {
      "requiredSuffixes": ["_L.OBJ_test", "_L.MTL", "_S.OBJ", "_S.MTL", "_ICON.TGA"],
      "searchRecursively": true
    },

    "ShapefileCompletenessRule": {
      "requiredComponents": [".shx_test", ".dbf"],
      "caseSensitive": false
    },
    "ObjMtlReferenceRule": {
      "expectedMtlExtension": ".MTL_test",
      "caseSensitive": false,
      "allowMissingMtllib": false
    },
    "BuildingTableRule": {
      "require_sdo_or_wkt": true,
      "expectedHeaders": [
        "BUILDING_ID_test","BUILDING_TYPE","HEIGHT","SDO","WKT","LAT","LON"
      ]
    },
    "LinksGeometryRule": {
      "require_sdo_or_wkt": true,
      "expectedHeaders": [
        "LINK_ID_test","SDO","WKT"
      ]
    },
    "PoiTableRule": {
      "latitude_range": [-90.0, 90.0],
      "longitude_range": [-180.0, 180.0],
      "expectedHeaders": [
        "POI_ID_test","POI_TYPE","LAT","LON"
      ]
    },
    "RdfIntegrityRule": {
      "check_building_3d_subfolders": true
    },
    "RootStructureRule": {
      "expected_children": ["*_3DLandmarks_test", "*_RDF", "*_Shapefiles"]
    },
    "dataTypeValidationRule": {
      "synonyms": {
        "link id": "Link ID_test",
        "linkid": "Link ID",
        "latitude": "Latitude / Longitude",
        "longitude": "Latitude / Longitude",
        "lat": "Latitude / Longitude",
        "lon": "Latitude / Longitude",
        "oneway": "One-Way",
        "postal code": "Postal Code",
        "postcode": "Postal Code",
        "phone": "Phone Number"
      },
      "rules": {
        "type": "string?",
        "link id": "integer[0,]+",
        "latitude": "float[-90,90]",
        "longitude": "float[-180,180]",
        "node type": { "type": "string", "allowEmpty": false, "enum": ["intersection","termination of a link","change of attribution"] },
        "shape point": "string?",
        "z-level": "string?",
        "aligned": "boolean",
        "street name": "string?",
        "address range": "string?",
        "address scheme": { "type": "string", "allowEmpty": true, "enum": ["Even","Odd","Mixed"] },
        "one-way": "boolean",
        "access characteristics": "string?",
        "functional class": "integer[1,5]",
        "language code": "string?",
        "country": "string?",
        "postal code": "string?",
        "cartography feature": { "type": "string", "allowEmpty": false },
        "polygon formation": { "type": "string", "allowEmpty": false },
        "poi category": { "type": "string", "allowEmpty": false },
        "poi name": "string?",
        "phone number": { "type": "string", "allowEmpty": true, "pattern": "^\\+?[0-9 \\-/()]{3,}$ Test" },
        "open 24 hours": "boolean?",
        "parent/child poi": "string?",
        "tollway": "string?",
        "private": "string?",
        "public_access": "string?"
      }
    },
    "LinksTableRule": {
      "check_private": false,
      "check_tollway": false,
      "check_public_access": false,
      "#notes": "If you want DataTypeValidationRule to handle these fields, set the corresponding check_* to false.",
      "boolean_tokens": [
        "true",
        "false",
        "1",
        "0",
        "yes",
        "no"
      ],
      "expectedHeaders": [
        "LINK_ID","ACCESS_ID","FUNCTIONAL_CLASS","TRAVEL_DIRECTION","PRIVATE","TOLLWAY","FROM_SPEED_LIMIT","TO_SPEED_LIMIT","PUBLIC_ACCESS"
      ]
    }
  }
}
